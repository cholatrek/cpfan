if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("CometSaveAddToCollectionDialogQuery.graphql",["CometSaveAddToCollectionDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"allSavesLimit"},c={defaultValue:null,kind:"LocalArgument",name:"collectionItemID"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[{kind:"Literal",name:"use_case",value:"SAVE_BOTTOM_SHEET"}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometSaveAddToCollectionDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfo",kind:"LinkedField",name:"saver_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometSaveSelectCollectionList_saverInfo"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometSaveSelectCollectionList_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"CometSaveAddToCollectionDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfo",kind:"LinkedField",name:"saver_info",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"find",variableName:"collectionItemID"},{kind:"Variable",name:"first",variableName:"allSavesLimit"},{kind:"Literal",name:"use_case",value:"SAVE_DEFAULT"}],concreteType:"SaverInfoAllSavesConnection",kind:"LinkedField",name:"all_saves",plural:!1,selections:[{alias:null,args:null,concreteType:"Save",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{alias:null,args:null,concreteType:"SavableWrapperToListsConnection",kind:"LinkedField",name:"containing_lists",plural:!1,selections:[{alias:null,args:null,concreteType:"SaveList",kind:"LinkedField",name:"nodes",plural:!0,selections:[e],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:f,concreteType:"SaverInfoSaverContentCollectionsConnection",kind:"LinkedField",name:"saver_content_collections",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfoSaverContentCollectionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,{kind:"TypeDiscriminator",abstractKey:"__isContentCollection"},{alias:null,args:null,kind:"ScalarField",name:"collection_title",storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:48},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:48}],concreteType:"Image",kind:"LinkedField",name:"collection_thumbnail_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:'saver_content_collections(use_case:"SAVE_BOTTOM_SHEET")'},{alias:null,args:f,filters:["use_case"],handle:"connection",key:"CometSaveSelectCollectionList_saver_content_collections",kind:"LinkedHandle",name:"saver_content_collections"}],storageKey:null}],storageKey:null}]},params:{id:b("CometSaveAddToCollectionDialogQuery_facebookRelayOperation"),metadata:{},name:"CometSaveAddToCollectionDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometSaveSelectCollectionItem_collection.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometSaveSelectCollectionItem_collection",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collection_title",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCollectionPrivacyScope_collection"},{args:null,kind:"FragmentSpread",name:"useCollectionThumbnailImage_collection"}],type:"ContentCollection",abstractKey:"__isContentCollection"};e.exports=a}),null);
__d("CometSaveSelectCollectionListQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3062067250582617"}),null);
__d("CometSaveSelectCollectionListQuery.graphql",["CometSaveSelectCollectionListQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"use_case",value:"SAVE_BOTTOM_SHEET"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSaveSelectCollectionListQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"CometSaveSelectCollectionList_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSaveSelectCollectionListQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfo",kind:"LinkedField",name:"saver_info",plural:!1,selections:[{alias:null,args:c,concreteType:"SaverInfoSaverContentCollectionsConnection",kind:"LinkedField",name:"saver_content_collections",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfoSaverContentCollectionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{kind:"TypeDiscriminator",abstractKey:"__isContentCollection"},{alias:null,args:null,kind:"ScalarField",name:"collection_title",storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:48},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:48}],concreteType:"Image",kind:"LinkedField",name:"collection_thumbnail_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,filters:["use_case"],handle:"connection",key:"CometSaveSelectCollectionList_saver_content_collections",kind:"LinkedHandle",name:"saver_content_collections"}],storageKey:null}],storageKey:null}]},params:{id:b("CometSaveSelectCollectionListQuery_facebookRelayOperation"),metadata:{},name:"CometSaveSelectCollectionListQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSaveSelectCollectionList_saverInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"allSavesLimit"},{kind:"RootArgument",name:"collectionItemID"}],kind:"Fragment",metadata:null,name:"CometSaveSelectCollectionList_saverInfo",selections:[{alias:null,args:[{kind:"Variable",name:"find",variableName:"collectionItemID"},{kind:"Variable",name:"first",variableName:"allSavesLimit"},{kind:"Literal",name:"use_case",value:"SAVE_DEFAULT"}],concreteType:"SaverInfoAllSavesConnection",kind:"LinkedField",name:"all_saves",plural:!1,selections:[{alias:null,args:null,concreteType:"Save",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"SavableWrapperToListsConnection",kind:"LinkedField",name:"containing_lists",plural:!1,selections:[{alias:null,args:null,concreteType:"SaveList",kind:"LinkedField",name:"nodes",plural:!0,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"SaverInfo",abstractKey:null}}();e.exports=a}),null);
__d("CometSaveSelectCollectionList_viewer.graphql",["CometSaveSelectCollectionListQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["saver_info","saver_content_collections"];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["viewer"],operation:b("CometSaveSelectCollectionListQuery.graphql")}},name:"CometSaveSelectCollectionList_viewer",selections:[{alias:null,args:null,concreteType:"SaverInfo",kind:"LinkedField",name:"saver_info",plural:!1,selections:[{alias:"saver_content_collections",args:[{kind:"Literal",name:"use_case",value:"SAVE_BOTTOM_SHEET"}],concreteType:"SaverInfoSaverContentCollectionsConnection",kind:"LinkedField",name:"__CometSaveSelectCollectionList_saver_content_collections_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfoSaverContentCollectionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometSaveSelectCollectionItem_collection"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:'__CometSaveSelectCollectionList_saver_content_collections_connection(use_case:"SAVE_BOTTOM_SHEET")'}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometSaveMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4117815131583597"}),null);
__d("CometSaveMutation.graphql",["CometSaveMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"viewer_saved_state",storageKey:null},f={alias:null,args:null,concreteType:"Save",kind:"LinkedField",name:"save",plural:!1,selections:[d],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSaveMutation",selections:[{alias:null,args:c,concreteType:"NodeSavedStateResponsePayload",kind:"LinkedField",name:"node_saved_state",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"save_node",plural:!1,selections:[d,e],storageKey:null},f],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSaveMutation",selections:[{alias:null,args:c,concreteType:"NodeSavedStateResponsePayload",kind:"LinkedField",name:"node_saved_state",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"save_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e],storageKey:null},f],storageKey:null}]},params:{id:b("CometSaveMutation_facebookRelayOperation"),metadata:{},name:"CometSaveMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useContentCollectionAddUrisMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3254537981257503"}),null);
__d("useContentCollectionAddUrisMutation.graphql",["useContentCollectionAddUrisMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"collection_title",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useContentCollectionAddUrisMutation",selections:[{alias:null,args:c,concreteType:"ContentCollectionAddUrisResponsePayload",kind:"LinkedField",name:"content_collection_add_uris",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"added_content_collection_items",plural:!0,selections:[d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content_collection",plural:!1,selections:[d,e,{args:null,kind:"FragmentSpread",name:"CometSaveLeftRailListItem_collection"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useContentCollectionAddUrisMutation",selections:[{alias:null,args:c,concreteType:"ContentCollectionAddUrisResponsePayload",kind:"LinkedField",name:"content_collection_add_uris",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"added_content_collection_items",plural:!0,selections:[f,d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content_collection",plural:!1,selections:[f,d,e,{kind:"TypeDiscriminator",abstractKey:"__isContentCollection"},{alias:null,args:[{kind:"Literal",name:"height",value:48},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:48}],concreteType:"Image",kind:"LinkedField",name:"collection_thumbnail_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useContentCollectionAddUrisMutation_facebookRelayOperation"),metadata:{},name:"useContentCollectionAddUrisMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometSaveSelectCollectionItem.react",["CometRelay","CometSaveCollectionInitial.react","CometSaveSelectCollectionItem_collection.graphql","TetraIcon.react","TetraListCell.react","react","useCollectionPrivacyScope","useCollectionThumbnailImage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useCallback,k=h!==void 0?h:h=b("CometSaveSelectCollectionItem_collection.graphql");function a(a){var b,e=a.collection,f=a.disabled,g=a.imageSize,h=a.onClick;a=d("CometRelay").useFragment(k,e);e=c("useCollectionPrivacyScope")(a);b=(b=c("useCollectionThumbnailImage")(a))==null?void 0:b.uri;var l=a.id,m=j(function(){l!=null&&h(l)},[h,l]);g=b==null?{component:i.jsx(c("CometSaveCollectionInitial.react"),{name:a.collection_title,size:g}),type:"override"}:{shape:"roundedRect",size:g,source:{uri:b},type:"profile-photo"};b=i.jsxs("span",{className:"pq6dq46d bp9cbjyn",children:[(e==null?void 0:e.icon)!=null&&i.jsx(c("TetraIcon.react"),{color:"secondary",icon:e.icon}),i.jsx("span",{className:"ggphbty4",children:e==null?void 0:e.label})]});return i.jsx(c("TetraListCell.react"),{addOnPrimary:g,body:b,disabled:f,headline:a.collection_title,headlineLineLimit:1,level:4,onPress:m},a.id)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSaveSelectCollectionList.react",["fbt","CometInfiniteScrollTrigger.react","CometListCellGlimmer.react","CometRelay","CometSaveSelectCollectionItem.react","CometSaveSelectCollectionList_saverInfo.graphql","CometSaveSelectCollectionList_viewer.graphql","CometScrollView.react","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react"),l=d("react").useCallback,m=10,n=48,o=i!==void 0?i:i=b("CometSaveSelectCollectionList_saverInfo.graphql"),p=j!==void 0?j:j=b("CometSaveSelectCollectionList_viewer.graphql");function a(a){var b=a.disabled,e=b===void 0?!1:b,f=a.onSelectCollection;b=a.saverInfo;a=a.viewer;a=d("CometRelay").usePaginationFragment(p,a);var g=a.data,i=a.hasNext,j=a.isLoadingNext,q=a.loadNext;a=d("CometRelay").useFragment(o,b);b=l(function(){if(!i||j)return;q(m)},[i,j,q]);var r=new Set();if(a){a=((a=a.all_saves)==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.containing_lists)==null?void 0:a.nodes)||[];a.forEach(function(a){a=a.id;a!=null&&r.add(a)})}g=(a=g==null?void 0:(a=g.saver_info)==null?void 0:(g=a.saver_content_collections)==null?void 0:g.edges)!=null?a:[];if(g.length===0)return k.jsx("div",{className:"dati1w0a e5nlhep0 hv4rvrfc ecm0bbzt tr9rh885",children:k.jsx(c("TetraText.react"),{type:"body3",children:h._(/*FBT_CALL*/"Saved! Next, organize it with Collections."/*FBT_CALL*/)})});var s=[];g.forEach(function(a){a=a==null?void 0:a.node;var b=a==null?void 0:a.id;a&&b!=null&&!r.has(b)&&s.push(k.jsx(c("CometSaveSelectCollectionItem.react"),{collection:a,disabled:e,imageSize:n,onClick:f},b))});return k.jsx("div",{className:"tgvbjcpo j83agx80 linmgsc8",children:k.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,children:k.jsxs("div",{className:"a8nywdso sj5x9vvc rz4wbd8a cxgpxx05",children:[s,k.jsx(c("CometInfiniteScrollTrigger.react"),{hasMore:i,isLoading:j,onLoadMore:b,children:k.jsx(c("CometListCellGlimmer.react"),{imageSize:n,imageStyle:"roundedRect",numberOfItems:3})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useContentCollectionAddUrisMutation",["CometRelay","CometSaveMutationHelper","CometSaveStoryMutationHelper","WebPixelRatio","createUseMutation_DEPRECATED","promiseDone","react","unrecoverableViolation","useCometSaveLoggingContext","useContentCollectionAddUrisMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback;e=h!==void 0?h:h=b("useContentCollectionAddUrisMutation.graphql");f=function(a,b,c){return function(b){var e=c||{};e=e.savableIDs;d("CometSaveStoryMutationHelper").updateSavablesSaveState(b,e,"SAVED");e=b.getRootField("content_collection_add_uris");if(e==null)return;e=e.getLinkedRecord("content_collection");if(e==null)return;if(a.content_collection_id!==e.getValue("id")){var f=b.get(d("CometRelay").VIEWER_ID);if(f==null)return;f=f.getLinkedRecord("saver_info");if(f==null)return;d("CometSaveMutationHelper").addCollectionToConnections(b,e,f)}}};var j=c("createUseMutation_DEPRECATED")(e,void 0,f,f);function a(a){a=a||{};var b=a.onError,e=a.onSuccess,f=c("useCometSaveLoggingContext")().surfaceGraphQL,g=j();return i(function(a){var h=a.collectionID,i=a.collectionTitle,j=a.mechanism;a=a.uris;if(a==null)throw c("unrecoverableViolation")("uris not provided to add savables mutation","saved_for_later");c("promiseDone")(g({collection_title:i,content_collection_id:h,save_mechanism:j,save_surface:f,uris:a},{scale:d("WebPixelRatio").get()}),function(a){a=(a=a.content_collection_add_uris)==null?void 0:a.content_collection;e&&e(a==null?void 0:a.id,a==null?void 0:a.collection_title)},b)},[g,f,e,b])}g["default"]=a}),98);
__d("CometSaveAddToCollectionDialog.react",["fbt","ix","CometCardedDialog.react","CometRelay","CometSaveAddToCollectionDialogQuery.graphql","CometSaveCollectionConstants","CometSaveCreateCollectionEmbeddedForm.react","CometSaveSelectCollectionList.react","CometSaveToastUtil","TetraListCell.react","cometPushToast","emptyFunction","fbicon","react","useContentCollectionAddSavablesMutation","useContentCollectionAddUrisMutation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useCallback,m=e.useState,n=j!==void 0?j:j=b("CometSaveAddToCollectionDialogQuery.graphql"),o=h._(/*FBT_CALL*/"Add to Collection"/*FBT_CALL*/),p=404;function a(a){var b=a.props,e=b.dialogBodyHeight;e=e===void 0?p:e;var f=b.mechanism,g=b.onClose,i=g===void 0?c("emptyFunction"):g,j=b.savableID,r=b.uri;g=b.title;b=g===void 0?o:g;g=a.queries;a=d("CometRelay").usePreloadedQuery(n,g.dialogViewerQueryRef);g=m(!1);var s=g[0],t=g[1];g=m(!1);var u=g[0],v=g[1];g=l(function(){return v(!1)},[]);var w=l(function(){return v(!0)},[]),x=l(function(a,b){d("cometPushToast").cometPushSimpleToast(d("CometSaveToastUtil").getAddToCollectionToast(a,b),4e3),t(!1),i(!0)},[i]),y=l(function(){d("cometPushToast").cometPushSimpleToast(h._(/*FBT_CALL*/"Unable to create collection. Please try again later."/*FBT_CALL*/),4e3),t(!1),i(!0)},[i]),z=c("useContentCollectionAddSavablesMutation")({onError:y,onSuccess:x}),A=c("useContentCollectionAddUrisMutation")({onError:y,onSuccess:x});y=l(function(a){if(a==null)return;t(!0);r!=null?A({collectionID:a,mechanism:f,savableIDs:j!=null?[j]:null,uris:[r]}):j!=null&&z({collectionID:a,mechanism:f,savableIDs:[j]})},[z,A,f,j,r]);x=l(function(a){t(!0),r!=null?A({collectionID:d("CometSaveCollectionConstants").MANUAL_COLLECTION_TEMPLATE_ID,collectionTitle:a,mechanism:f,savableIDs:j!=null?[j]:null,uris:[r]}):j!=null&&z({collectionID:d("CometSaveCollectionConstants").MANUAL_COLLECTION_TEMPLATE_ID,collectionTitle:a,mechanism:f,savableIDs:[j]})},[z,A,f,j,r]);return k.jsx(c("CometCardedDialog.react"),{onClose:i,title:b,withCloseButton:!0,children:k.jsxs("div",{className:"cbu4d94t j83agx80",style:{maxHeight:e},children:[k.jsx(c("CometSaveSelectCollectionList.react"),{disabled:s,onSelectCollection:y,saverInfo:(b=a.viewer)==null?void 0:b.saver_info,viewer:a.viewer}),k.jsx("div",{className:"k4urcfbm kb5gq1qc c4hnarmi",children:u?k.jsx("div",{className:"l9j0dhe7 dati1w0a f10w8fjw hv4rvrfc pybr56ya",children:k.jsx(c("CometSaveCreateCollectionEmbeddedForm.react"),{isLoading:s,maxCollectionNameLength:40,onCancel:g,onCreate:x})}):k.jsx("div",{className:"a8nywdso sj5x9vvc rz4wbd8a cxgpxx05",children:k.jsx(q,{disabled:s,onClick:w})})})]})})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a.disabled;b=b===void 0?!1:b;a=a.onClick;return k.jsx(c("TetraListCell.react"),{addOnPrimary:{color:"gray",icon:d("fbicon")._(i("483773"),24),size:40,type:"contained-icon"},disabled:b,headline:h._(/*FBT_CALL*/"New Collection"/*FBT_CALL*/),headlineLineLimit:1,level:4,onPress:a})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSaveMutation",["CometRelay","CometRelayEnvironment","CometSaveMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometSaveMutation.graphql");function j(a){var b=a.getRootField("node_saved_state"),c=a.get(d("CometRelay").VIEWER_ID);if(b==null||c==null)return;c=c.getLinkedRecord("saver_info");if(c==null)return;c=d("CometRelay").ConnectionHandler.getConnection(c,"CometSaveDashboardAllItems_all_saves");b=b.getLinkedRecord("save");if(c==null||b==null)return;d("CometRelay").ConnectionHandler.insertEdgeBefore(c,d("CometRelay").ConnectionHandler.createEdge(a,c,b,"SaverInfoToSavesEdge"))}function a(a,b){var e=a.mechanism,f=a.node_id;a=a.surface;b=b||{};var g=b.onFailure;b=b.onSuccess;var h=function(a){a=a.get(f);if(a==null)return;a.setValue("SAVED","viewer_saved_state")},k=function(a){j(a)};d("CometRelay").commitMutation(c("CometRelayEnvironment"),{mutation:i,onCompleted:b,onError:g,optimisticUpdater:h,updater:k,variables:{input:{node_id:f,save_action:"SAVE",save_mechanism:e,surface:a}}})}g["default"]=a}),98);